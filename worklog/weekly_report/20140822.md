# 本周工作记录

20140822

本周大部分时间在处理StarRiver项目的新需求和性能优化，周三一天在做校正项目的亮度评估功能，此外还有若干ESXi和GitLab相关的事项。

StarRiver项目上的主要进展：

1. 分析大量日志，发现网络通信好使极短，更新数据库的操作在测试机上排队很久才得到执行（高达三分钟以上）。
2. 优化通信程序设计，将控制器查询任务的数据库交互次数（不包括从缓存返回的查询次数）从10次降3次；设备查询任务的交互次数从19次降至3次。
3. 增加一些数据库索引，以占用更大的存储空间为代价，加快查询。
4. 讨论新需求，包括AES加密、同步（blocking）单灯控制以及B/S架构的新界面。
    a) AES加密需要协议更明确的表述，否则当前协议无法限定一种能互通的实现方式。
5. 尝试用Crypto++库进行AES加密解密
    a) 做了ECB和CFB两种模式的加解密

其他任务有：

1. ESXi上新建虚拟机安装Windows Server 2008 R2 Standard x64，准备替换辅域控那台物理服务器。
2. 了解如何用libicu进行字符串编码探测和转换，这个可能会用到StarRiver项目，处理厂商信息等字段。
3. 协助曾磊和沈工尝试在Windows XP下使用Git。
    a) 发现了一个使用RSA Key登陆GitLab的配置问题，已解决。
