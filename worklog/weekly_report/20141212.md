# 本周工作记录

20141212

本周调整StarRiver的数据库设计，修正发现的问题。开始了解智能家居平台信息，确定近期做iOS开发。

## 编码/测试

1. *SR*: 更新代码，匹配新数据库表结构
2. *SR*: 重构协议解析代码，精简部分重复代码。
3. *SR*: 与曾磊一起测试新数据库下前后端的运行情况。
4. *SR*: 调试唐德机器上的通信故障问题。
5. *SR*: 调整通信状态更新策略，TCP连接建立后不更新，直到读到合法帧才更新。
6. *SR*: 寻找测试环境数据库连接不上的问题原因。确认是配置文件填写错误，并且讨论决定保留现有行为，方便用户寻找错误原因。
7. *SE*: 与刘工一同解决薛工电脑上SkyEye客户端启动不了的问题。原因是设备参数没填完整。这个应该由工具代替人工的，待刘工有空再完善SkyEye客户端了。另外现有的客户端在很多情况下会crash，没做好读回信息为null（可能用户的确没输入，可能网络不通等等原因）的处理。
8. *SR*: 数据库增加字段，支持矢量地图
9. *SE*: 协助薛工解决新增设备在列表中不存在的问题。同样是添加设备流程没走完的原因。现在人工处理了，今后应由SkyEye客户端做。

## 其他

1. *SR*: 根据曾磊的反馈，补全数据库文档中不明确的描述，修正文档中不一致的表述。
2. *SR*: 修复数据库事件权限
3. 2015培训需求调查问卷
4. *SR*: 唐德提出需求：服务端要同时支持新老两个版本的LCP-SH-U协议。
5. 讨论导出功能如何实现（曾磊、刘海斌），并由曾磊主导制定导出文件格式规范。
6. *SR*: 准备一份支持旧协议且不检查超级狗的服务端供唐德外出演示使用。
7. 讨论控制灯泡亮度、色彩的手机app需求、时间节点、初期计划。

## 近期计划

1. iOS开发入门。
