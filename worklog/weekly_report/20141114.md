# 本周工作记录

20141114

StarRiver优化数据库语句性能、实现服务器工作模式。
下周四与其他厂商联调更新过的 LCP-SH-U 协议通信，这两天加班完成服务端对协议更该部分的实现。

## 编码/测试

1. *SR*: 对压力测试过程中发现的慢查询逐一优化。
2. *SR*: 发现原先记录任务的表设计不适合极大的历史（50GB级别），在数据库层面做了限制，保留更少的历史。
3. *SR*: 修正一个 TaskTodo 未能成功清空的bug。
4. *SR*: 服务端模式
  - 区分工作模式，client / server
  - 后台自动查询仅在客户端模式下进行，服务器模式下的自动查询范围不一样，待实现。
  - 写 `tcp_server` class，监听数据库 `SystemConfig` 表中指定的端口号

## 其他

1. *SR*: 数据库新的表结构设计讨论（曾磊、刘海斌）
2. 按照讨论结果修改数据库表结构（尚未完成）
3. 帮顾华强解决虚拟机启动不了的问题。替换了一个系统文件，不兼容导致。
4. 帮董号debug C++代码

## 近期计划

1. *SR*: 完成服务器工作模式，与硬件一同调试。
2. *SR*: 周四（11.20）与其他厂商联调
